<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <script src="checkFields.js"></script>
    <link rel="stylesheet" type="text/css" href="../../Management/Style/forms.css">
    <title>Login</title>
</head>

<body>
    <button id="back-button" onclick="goBack()" style="position: absolute; top: 10px; left: 10px;">Back</button>
    <div id="form-sfondo">
        <form action="login.php" method="POST" class="login">
            <div id="form-dati">
                <h1>lOgin</h1>
                <label for="email">Email</label>
                <input type="email" id="email" name="email" required>

                <label for="pass">Password</label>
                <input type="password" id="pass" name="pass" required>
                <div class="checkboxes">
                <input type="checkbox" id="show-pass" onclick="togglePassword()" style="width:10%;">Show password
                </div>
                <div class="checkboxes">
                <input type="checkbox" id="remember-me" style="width:10%;">Remember me
                </div>
            </div>
            <input type="submit" value="Login" id="login-button" disabled style="cursor: pointer;">

            <div id="switchForm">
                <a href="registration.html">Not yet registered? Sign-up here</a>
            </div>
        </form>
    </div>


    <script>

         // Funzione per tornare indietro
         function goBack() {
            window.location.href = "../home.php";
        }

        // Ottieni i riferimenti agli elementi del modulo
        const emailInput = document.getElementById("email");
        const passwordInput = document.getElementById("pass");
        const loginButton = document.getElementById("login-button");

        // Aggiungi un gestore di eventi per verificare se tutti i campi sono stati riempiti
        emailInput.addEventListener("input", toggleLoginButton);
        passwordInput.addEventListener("input", togglePassword);
        function toggleLoginButton() {
            checkEmailFormat();
            //checkPasswordFormat();	//DEBUG

            if (emailInput.value !== "" && passwordInput.value !== "") {
                loginButton.removeAttribute("disabled");
            } else {
                loginButton.setAttribute("disabled", "disabled");
            }
        }

        function togglePassword() {	//show password in plain text or not
            var passField = document.getElementById("pass");
            var showPassCheckbox = document.getElementById("show-pass");

            if (showPassCheckbox.checked) {
                passField.type = "text";
            } else {
                passField.type = "password";
            }
            toggleLoginButton();
        }
    </script>
</body>

</html>